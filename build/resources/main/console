CREATE TABLE contacts (
                      telephoneNumber CHARACTER VARYING(8) PRIMARY KEY NOT NULL UNIQUE,
                      name CHARACTER VARYING(30) NOT NULL,
                      email CHARACTER VARYING(30) NOT NULL
);

CREATE TABLE accounts (
                          id SERIAL PRIMARY KEY NOT NULL UNIQUE,
                          telephoneNumber CHARACTER VARYING(30) REFERENCES contacts(telephoneNumber)  NOT NULL,
                          encodedPassword CHARACTER VARYING(50) NOT NULL
);

CREATE TABLE groups (
                          id SERIAL PRIMARY KEY NOT NULL UNIQUE,
                          name CHARACTER VARYING(30) NOT NULL,
                          creatorId INT REFERENCES accounts(id) NOT NULL
);

CREATE TABLE account_group_info
(
    id SERIAL PRIMARY KEY NOT NULL UNIQUE,
    accountId INT REFERENCES accounts(id) NOT NULL,
    groupId INT REFERENCES groups(id)  NOT NULL,
    accountRole CHARACTER VARYING(30) NOT NULL
);

CREATE TABLE account_contact_list
(
    id SERIAL PRIMARY KEY NOT NULL UNIQUE,
    accountId INT REFERENCES accounts(id) NOT NULL,
    telephoneNumber CHARACTER VARYING(30) REFERENCES contacts(telephoneNumber)  NOT NULL
);

INSERT INTO contacts (telephoneNumber, name, email) VALUES ('00000001', 'User#1', 'Email1@gmail.com');
INSERT INTO contacts (telephoneNumber, name, email) VALUES ('00000002', 'User#2', 'Email2@gmail.com');
INSERT INTO contacts (telephoneNumber, name, email) VALUES ('00000003', 'User#3', 'Email3@gmail.com');
INSERT INTO contacts (telephoneNumber, name, email) VALUES ('00000004', 'User#4', 'Email4@gmail.com');

INSERT INTO accounts (telephoneNumber, encodedPassword) VALUES ('00000001', '00000001');
INSERT INTO accounts (telephoneNumber, encodedPassword) VALUES ('00000002', '00000002');
INSERT INTO accounts (telephoneNumber, encodedPassword) VALUES ('00000003', '00000003');

INSERT INTO groups (name, creatorId) VALUES ('Group#1', '1');
INSERT INTO groups (name, creatorId) VALUES ('Group#2', '2');

INSERT INTO account_group_info (accountId, groupId, accountRole) VALUES ('1', '1', 'ADMIN');
INSERT INTO account_group_info (accountId, groupId, accountRole) VALUES ('2', '1', 'USER');
INSERT INTO account_group_info (accountId, groupId, accountRole) VALUES ('3', '1', 'USER');
INSERT INTO account_group_info (accountId, groupId, accountRole) VALUES ('1', '2', 'USER');
INSERT INTO account_group_info (accountId, groupId, accountRole) VALUES ('2', '2', 'ADMIN');
INSERT INTO account_group_info (accountId, groupId, accountRole) VALUES ('3', '2', 'USER');

INSERT INTO account_contact_list (accountId, telephoneNumber) VALUES ('1', '00000001');
INSERT INTO account_contact_list (accountId, telephoneNumber) VALUES ('1', '00000002');
INSERT INTO account_contact_list (accountId, telephoneNumber) VALUES ('1', '00000003');
INSERT INTO account_contact_list (accountId, telephoneNumber) VALUES ('1', '00000004');

SELECT * FROM accounts WHERE telephoneNumber='00000001' AND encodedPassword='00000001';

SELECT * FROM accounts AS a INNER JOIN Contacts AS c ON a.telephoneNumber = c.telephoneNumber WHERE c.name = 'User#3';

SELECT * FROM contacts WHERE telephoneNumber='00000001'